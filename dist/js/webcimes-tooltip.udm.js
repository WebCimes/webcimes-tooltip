!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o=e();for(var i in o)("object"==typeof exports?exports:t)[i]=o[i]}}(self,(()=>(()=>{"use strict";var t={d:(e,o)=>{for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{WebcimesTooltip:()=>st});const o=Math.min,i=Math.max,n=Math.round,s=Math.floor,l=t=>({x:t,y:t}),r={left:"right",right:"left",bottom:"top",top:"bottom"},a={start:"end",end:"start"};function c(t,e,n){return i(t,o(e,n))}function p(t,e){return"function"==typeof t?t(e):t}function f(t){return t.split("-")[0]}function h(t){return t.split("-")[1]}function u(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function m(t){return["top","bottom"].includes(f(t))?"y":"x"}function v(t){return u(m(t))}function y(t){return t.replace(/start|end/g,(t=>a[t]))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>r[t]))}function g(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function b(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function x(t,e,o){let{reference:i,floating:n}=t;const s=m(e),l=v(e),r=d(l),a=f(e),c="y"===s,p=i.x+i.width/2-n.width/2,u=i.y+i.height/2-n.height/2,y=i[r]/2-n[r]/2;let w;switch(a){case"top":w={x:p,y:i.y-n.height};break;case"bottom":w={x:p,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:u};break;case"left":w={x:i.x-n.width,y:u};break;default:w={x:i.x,y:i.y}}switch(h(e)){case"start":w[l]-=y*(o&&c?-1:1);break;case"end":w[l]+=y*(o&&c?-1:1)}return w}async function L(t,e){var o;void 0===e&&(e={});const{x:i,y:n,platform:s,rects:l,elements:r,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=p(e,t),m=g(d),v=r[u?"floating"===h?"reference":"floating":h],y=b(await s.getClippingRect({element:null==(o=await(null==s.isElement?void 0:s.isElement(v)))||o?v:v.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(r.floating)),boundary:c,rootBoundary:f,strategy:a})),w="floating"===h?{...l.floating,x:i,y:n}:l.reference,x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(r.floating)),L=await(null==s.isElement?void 0:s.isElement(x))&&await(null==s.getScale?void 0:s.getScale(x))||{x:1,y:1},R=b(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:x,strategy:a}):w);return{top:(y.top-R.top+m.top)/L.y,bottom:(R.bottom-y.bottom+m.bottom)/L.y,left:(y.left-R.left+m.left)/L.x,right:(R.right-y.right+m.right)/L.x}}const R=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,i;const{placement:n,middlewareData:s,rects:l,initialPlacement:r,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:R=!0,...E}=p(t,e);if(null!=(o=s.arrow)&&o.alignmentOffset)return{};const A=f(n),T=f(r)===r,S=await(null==a.isRTL?void 0:a.isRTL(c.floating)),H=g||(T||!R?[w(r)]:function(t){const e=w(t);return[y(t),e,y(e)]}(r));g||"none"===x||H.push(...function(t,e,o,i){const n=h(t);let s=function(t,e,o){const i=["left","right"],n=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return o?e?n:i:e?i:n;case"left":case"right":return e?s:l;default:return[]}}(f(t),"start"===o,i);return n&&(s=s.map((t=>t+"-"+n)),e&&(s=s.concat(s.map(y)))),s}(r,R,x,S));const C=[r,...H],D=await L(e,E),k=[];let O=(null==(i=s.flip)?void 0:i.overflows)||[];if(u&&k.push(D[A]),m){const t=function(t,e,o){void 0===o&&(o=!1);const i=h(t),n=v(t),s=d(n);let l="x"===n?i===(o?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(l=w(l)),[l,w(l)]}(n,l,S);k.push(D[t[0]],D[t[1]])}if(O=[...O,{placement:n,overflows:k}],!k.every((t=>t<=0))){var F,M;const t=((null==(F=s.flip)?void 0:F.index)||0)+1,e=C[t];if(e)return{data:{index:t,overflows:O},reset:{placement:e}};let o=null==(M=O.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:M.placement;if(!o)switch(b){case"bestFit":{var P;const t=null==(P=O.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:P[0];t&&(o=t);break}case"initialPlacement":o=r}if(n!==o)return{reset:{placement:o}}}return{}}}};const E=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,i;const{x:n,y:s,placement:l,middlewareData:r}=e,a=await async function(t,e){const{placement:o,platform:i,elements:n}=t,s=await(null==i.isRTL?void 0:i.isRTL(n.floating)),l=f(o),r=h(o),a="y"===m(o),c=["left","top"].includes(l)?-1:1,u=s&&a?-1:1,d=p(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:w}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return r&&"number"==typeof w&&(y="end"===r?-1*w:w),a?{x:y*u,y:v*c}:{x:v*c,y:y*u}}(e,t);return l===(null==(o=r.offset)?void 0:o.placement)&&null!=(i=r.arrow)&&i.alignmentOffset?{}:{x:n+a.x,y:s+a.y,data:{...a,placement:l}}}}},A=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:i,placement:n}=e,{mainAxis:s=!0,crossAxis:l=!1,limiter:r={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...a}=p(t,e),h={x:o,y:i},d=await L(e,a),v=m(f(n)),y=u(v);let w=h[y],g=h[v];if(s){const t="y"===y?"bottom":"right";w=c(w+d["y"===y?"top":"left"],w,w-d[t])}if(l){const t="y"===v?"bottom":"right";g=c(g+d["y"===v?"top":"left"],g,g-d[t])}const b=r.fn({...e,[y]:w,[v]:g});return{...b,data:{x:b.x-o,y:b.y-i}}}}},T=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:o,y:i,placement:n,rects:s,middlewareData:l}=e,{offset:r=0,mainAxis:a=!0,crossAxis:c=!0}=p(t,e),h={x:o,y:i},d=m(n),v=u(d);let y=h[v],w=h[d];const g=p(r,e),b="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const t="y"===v?"height":"width",e=s.reference[v]-s.floating[t]+b.mainAxis,o=s.reference[v]+s.reference[t]-b.mainAxis;y<e?y=e:y>o&&(y=o)}if(c){var x,L;const t="y"===v?"width":"height",e=["top","left"].includes(f(n)),o=s.reference[d]-s.floating[t]+(e&&(null==(x=l.offset)?void 0:x[d])||0)+(e?0:b.crossAxis),i=s.reference[d]+s.reference[t]+(e?0:(null==(L=l.offset)?void 0:L[d])||0)-(e?b.crossAxis:0);w<o?w=o:w>i&&(w=i)}return{[v]:y,[d]:w}}}};function S(t){return D(t)?(t.nodeName||"").toLowerCase():"#document"}function H(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function C(t){var e;return null==(e=(D(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function D(t){return t instanceof Node||t instanceof H(t).Node}function k(t){return t instanceof Element||t instanceof H(t).Element}function O(t){return t instanceof HTMLElement||t instanceof H(t).HTMLElement}function F(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof H(t).ShadowRoot)}function M(t){const{overflow:e,overflowX:o,overflowY:i,display:n}=q(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+o)&&!["inline","contents"].includes(n)}function P(t){return["table","td","th"].includes(S(t))}function $(t){const e=K(),o=q(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function K(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function B(t){return["html","body","#document"].includes(S(t))}function q(t){return H(t).getComputedStyle(t)}function U(t){return k(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function W(t){if("html"===S(t))return t;const e=t.assignedSlot||t.parentNode||F(t)&&t.host||C(t);return F(e)?e.host:e}function j(t){const e=W(t);return B(e)?t.ownerDocument?t.ownerDocument.body:t.body:O(e)&&M(e)?e:j(e)}function I(t,e,o){var i;void 0===e&&(e=[]),void 0===o&&(o=!0);const n=j(t),s=n===(null==(i=t.ownerDocument)?void 0:i.body),l=H(n);return s?e.concat(l,l.visualViewport||[],M(n)?n:[],l.frameElement&&o?I(l.frameElement):[]):e.concat(n,I(n,[],o))}function N(t){const e=q(t);let o=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=O(t),l=s?t.offsetWidth:o,r=s?t.offsetHeight:i,a=n(o)!==l||n(i)!==r;return a&&(o=l,i=r),{width:o,height:i,$:a}}function _(t){return k(t)?t:t.contextElement}function V(t){const e=_(t);if(!O(e))return l(1);const o=e.getBoundingClientRect(),{width:i,height:s,$:r}=N(e);let a=(r?n(o.width):o.width)/i,c=(r?n(o.height):o.height)/s;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}const z=l(0);function J(t){const e=H(t);return K()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:z}function X(t,e,o,i){void 0===e&&(e=!1),void 0===o&&(o=!1);const n=t.getBoundingClientRect(),s=_(t);let r=l(1);e&&(i?k(i)&&(r=V(i)):r=V(t));const a=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==H(t))&&e}(s,o,i)?J(s):l(0);let c=(n.left+a.x)/r.x,p=(n.top+a.y)/r.y,f=n.width/r.x,h=n.height/r.y;if(s){const t=H(s),e=i&&k(i)?H(i):i;let o=t.frameElement;for(;o&&i&&e!==t;){const t=V(o),e=o.getBoundingClientRect(),i=q(o),n=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;c*=t.x,p*=t.y,f*=t.x,h*=t.y,c+=n,p+=s,o=H(o).frameElement}}return b({width:f,height:h,x:c,y:p})}function Y(t){return X(C(t)).left+U(t).scrollLeft}function G(t,e,o){let n;if("viewport"===e)n=function(t,e){const o=H(t),i=C(t),n=o.visualViewport;let s=i.clientWidth,l=i.clientHeight,r=0,a=0;if(n){s=n.width,l=n.height;const t=K();(!t||t&&"fixed"===e)&&(r=n.offsetLeft,a=n.offsetTop)}return{width:s,height:l,x:r,y:a}}(t,o);else if("document"===e)n=function(t){const e=C(t),o=U(t),n=t.ownerDocument.body,s=i(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=i(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+Y(t);const a=-o.scrollTop;return"rtl"===q(n).direction&&(r+=i(e.clientWidth,n.clientWidth)-s),{width:s,height:l,x:r,y:a}}(C(t));else if(k(e))n=function(t,e){const o=X(t,!0,"fixed"===e),i=o.top+t.clientTop,n=o.left+t.clientLeft,s=O(t)?V(t):l(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:n*s.x,y:i*s.y}}(e,o);else{const o=J(t);n={...e,x:e.x-o.x,y:e.y-o.y}}return b(n)}function Q(t,e){const o=W(t);return!(o===e||!k(o)||B(o))&&("fixed"===q(o).position||Q(o,e))}function Z(t,e,o){const i=O(e),n=C(e),s="fixed"===o,r=X(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=l(0);if(i||!i&&!s)if(("body"!==S(e)||M(n))&&(a=U(e)),i){const t=X(e,!0,s,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else n&&(c.x=Y(n));return{x:r.left+a.scrollLeft-c.x,y:r.top+a.scrollTop-c.y,width:r.width,height:r.height}}function tt(t,e){return O(t)&&"fixed"!==q(t).position?e?e(t):t.offsetParent:null}function et(t,e){const o=H(t);if(!O(t))return o;let i=tt(t,e);for(;i&&P(i)&&"static"===q(i).position;)i=tt(i,e);return i&&("html"===S(i)||"body"===S(i)&&"static"===q(i).position&&!$(i))?o:i||function(t){let e=W(t);for(;O(e)&&!B(e);){if($(e))return e;e=W(e)}return null}(t)||o}const ot={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:i}=t;const n=O(o),s=C(o);if(o===s)return e;let r={scrollLeft:0,scrollTop:0},a=l(1);const c=l(0);if((n||!n&&"fixed"!==i)&&(("body"!==S(o)||M(s))&&(r=U(o)),O(o))){const t=X(o);a=V(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-r.scrollLeft*a.x+c.x,y:e.y*a.y-r.scrollTop*a.y+c.y}},getDocumentElement:C,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:s,strategy:l}=t;const r=[..."clippingAncestors"===n?function(t,e){const o=e.get(t);if(o)return o;let i=I(t,[],!1).filter((t=>k(t)&&"body"!==S(t))),n=null;const s="fixed"===q(t).position;let l=s?W(t):t;for(;k(l)&&!B(l);){const e=q(l),o=$(l);o||"fixed"!==e.position||(n=null),(s?!o&&!n:!o&&"static"===e.position&&n&&["absolute","fixed"].includes(n.position)||M(l)&&!o&&Q(t,l))?i=i.filter((t=>t!==l)):n=e,l=W(l)}return e.set(t,i),i}(e,this._c):[].concat(n),s],a=r[0],c=r.reduce(((t,n)=>{const s=G(e,n,l);return t.top=i(s.top,t.top),t.right=o(s.right,t.right),t.bottom=o(s.bottom,t.bottom),t.left=i(s.left,t.left),t}),G(e,a,l));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:et,getElementRects:async function(t){let{reference:e,floating:o,strategy:i}=t;const n=this.getOffsetParent||et,s=this.getDimensions;return{reference:Z(e,await n(o),i),floating:{x:0,y:0,...await s(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return N(t)},getScale:V,isElement:k,isRTL:function(t){return"rtl"===q(t).direction}};function it(t,e,n,l){void 0===l&&(l={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:p="function"==typeof IntersectionObserver,animationFrame:f=!1}=l,h=_(t),u=r||a?[...h?I(h):[],...I(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),a&&t.addEventListener("resize",n)}));const d=h&&p?function(t,e){let n,l=null;const r=C(t);function a(){clearTimeout(n),l&&l.disconnect(),l=null}return function c(p,f){void 0===p&&(p=!1),void 0===f&&(f=1),a();const{left:h,top:u,width:d,height:m}=t.getBoundingClientRect();if(p||e(),!d||!m)return;const v={rootMargin:-s(u)+"px "+-s(r.clientWidth-(h+d))+"px "+-s(r.clientHeight-(u+m))+"px "+-s(h)+"px",threshold:i(0,o(1,f))||1};let y=!0;function w(t){const e=t[0].intersectionRatio;if(e!==f){if(!y)return c();e?c(!1,e):n=setTimeout((()=>{c(!1,1e-7)}),100)}y=!1}try{l=new IntersectionObserver(w,{...v,root:r.ownerDocument})}catch(t){l=new IntersectionObserver(w,v)}l.observe(t)}(!0),a}(h,n):null;let m,v=-1,y=null;c&&(y=new ResizeObserver((t=>{let[o]=t;o&&o.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame((()=>{y&&y.observe(e)}))),n()})),h&&!f&&y.observe(h),y.observe(e));let w=f?X(t):null;return f&&function e(){const o=X(t);!w||o.x===w.x&&o.y===w.y&&o.width===w.width&&o.height===w.height||n();w=o,m=requestAnimationFrame(e)}(),n(),()=>{u.forEach((t=>{r&&t.removeEventListener("scroll",n),a&&t.removeEventListener("resize",n)})),d&&d(),y&&y.disconnect(),y=null,f&&cancelAnimationFrame(m)}}const nt=(t,e,o)=>{const i=new Map,n={platform:ot,...o},s={...n.platform,_c:i};return(async(t,e,o)=>{const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:l}=o,r=s.filter(Boolean),a=await(null==l.isRTL?void 0:l.isRTL(e));let c=await l.getElementRects({reference:t,floating:e,strategy:n}),{x:p,y:f}=x(c,i,a),h=i,u={},d=0;for(let o=0;o<r.length;o++){const{name:s,fn:m}=r[o],{x:v,y,data:w,reset:g}=await m({x:p,y:f,initialPlacement:i,placement:h,strategy:n,middlewareData:u,rects:c,platform:l,elements:{reference:t,floating:e}});p=null!=v?v:p,f=null!=y?y:f,u={...u,[s]:{...u[s],...w}},g&&d<=50&&(d++,"object"==typeof g&&(g.placement&&(h=g.placement),g.rects&&(c=!0===g.rects?await l.getElementRects({reference:t,floating:e,strategy:n}):g.rects),({x:p,y:f}=x(c,h,a))),o=-1)}return{x:p,y:f,placement:h,strategy:n,middlewareData:u}})(t,e,{...n,platform:s})};class st{tooltipRef;tooltip;tooltipArrow;options;eventListeners={};constructor(t){const e={type:"button",element:null,contentElement:null,setId:null,setClass:null,placement:t.type&&"title"==t.type?"top":"bottom",delay:t.type&&"title"==t.type?400:0,duration:600,arrow:!0,style:null,ariaLabel:null,hideOnHover:!0,beforeShow:()=>{},afterShow:()=>{},beforeHide:()=>{},afterHide:()=>{},beforeDestroy:()=>{},afterDestroy:()=>{}};this.options={...e,...t},this.eventListeners.tooltipKeydown=t=>{"Escape"!=t.key&&"Tab"!=t.key||(t.preventDefault(),this.hide((()=>{this.tooltip?.remove()})))},this.eventListeners.tooltipTransitionEnd=t=>{this.tooltip.classList.contains("webcimes-tooltip--show")&&"opacity"==t.propertyName&&(this.tooltipRef.dispatchEvent(new CustomEvent("afterShow")),this.tooltip.dispatchEvent(new CustomEvent("afterShow")),"function"==typeof this.options.afterShow&&this.options.afterShow())},this.init()}getHtmlElements(t){let e=[];return t instanceof NodeList&&(e=[...Array.from(t)]),t instanceof HTMLElement&&(e=[t]),"string"==typeof t&&(e=[...Array.from(document.querySelectorAll(t))]),e}getHtmlElement(t){let e=null;return t instanceof HTMLElement&&(e=t),"string"==typeof t&&(e=document.querySelector(t)),e}getUniqueID(t,e,o="",i=null){i=i??document;do{e+=Math.floor(1e4*Math.random())}while(i.querySelector(t+e+o));return e}onElementRemoved(t,e,o=!0){const i=new MutationObserver((n=>{n.forEach((n=>{n.removedNodes.forEach((n=>{if(n instanceof HTMLElement)if("string"==typeof t)if(n.matches(t))e(n),o&&i.disconnect();else{n.querySelectorAll(t).forEach((t=>{e(t),o&&i.disconnect()}))}else(n===t||n.contains(t))&&(e(n),o&&i.disconnect())}))}))}));i.observe(document.body,{childList:!0,subtree:!0})}init(){this.tooltipRef=this.getHtmlElement(this.options.element),this.tooltipRef?.classList.add("webcimes-tooltip-ref"),"button"==this.options.type?this.tooltipForButton():"title"==this.options.type&&this.tooltipForTitle(),this.onElementRemoved(this.tooltipRef,(t=>{this.hide((()=>{this.tooltip?.remove()}))}),!0)}show(){if(this.tooltipRef&&this.tooltip&&(document.querySelector(`#${this.tooltipRef.getAttribute("data-tooltip-target")}`)||(this.tooltip=document.body.appendChild(this.tooltip)),this.tooltip.tooltipPlacement=this.tooltipRef.getAttribute("data-tooltip-placement")||this.options.placement,this.tooltip.tooltipDelay=this.tooltipRef.getAttribute("data-tooltip-delay")||this.options.delay,this.tooltip.tooltipDuration=this.tooltipRef.getAttribute("data-tooltip-duration")||this.options.duration,this.tooltip.tooltipArrow=JSON.parse(this.tooltipRef.getAttribute("data-tooltip-arrow")||this.options.arrow),this.tooltip.tooltipHideOnHover=JSON.parse(this.tooltipRef.getAttribute("data-tooltip-hide-on-hover")||this.options.hideOnHover),this.tooltip.style.setProperty("--tooltip-duration",this.tooltip.tooltipDuration+"ms"),this.tooltip.tooltipArrow&&(this.tooltip.querySelector(".webcimes-tooltip__arrow")||this.tooltip.insertAdjacentHTML("beforeend",'<div class="webcimes-tooltip__arrow"></div>'),this.tooltipArrow=this.tooltip.querySelector(".webcimes-tooltip__arrow")),clearTimeout(this.tooltip.tooltipHideTimeout),this.tooltip.tooltipShowTimeout=setTimeout((()=>{this.tooltip.tooltipAlreadyShow||setTimeout((()=>{this.tooltipRef.dispatchEvent(new CustomEvent("beforeShow")),this.tooltip.dispatchEvent(new CustomEvent("beforeShow")),"function"==typeof this.options.beforeShow&&this.options.beforeShow()}),0),this.tooltip.classList.add("webcimes-tooltip--show"),"button"==this.options.type?(this.tooltipRef.setAttribute("aria-expended","true"),this.tooltip.focus(),this.tooltip.addEventListener("keydown",this.eventListeners.tooltipKeydown)):this.options.type,this.tooltip.tooltipAlreadyShow=!0}),this.tooltip.tooltipAlreadyShow?0:this.tooltip.tooltipDelay),this.tooltip.addEventListener("transitionend",this.eventListeners.tooltipTransitionEnd),void 0===this.tooltip.cleanUpFloatingUi)){let t={placement:this.tooltip.tooltipPlacement,middleware:[E(10),A({padding:10,limiter:T({offset:30})}),R({fallbackPlacements:["top","bottom","left","right"],padding:10})]};this.tooltipArrow&&t.middleware.push((t=>({name:"arrow",options:t,async fn(e){const{x:i,y:n,placement:s,rects:l,platform:r,elements:a,middlewareData:f}=e,{element:u,padding:m=0}=p(t,e)||{};if(null==u)return{};const y=g(m),w={x:i,y:n},b=v(s),x=d(b),L=await r.getDimensions(u),R="y"===b,E=R?"top":"left",A=R?"bottom":"right",T=R?"clientHeight":"clientWidth",S=l.reference[x]+l.reference[b]-w[b]-l.floating[x],H=w[b]-l.reference[b],C=await(null==r.getOffsetParent?void 0:r.getOffsetParent(u));let D=C?C[T]:0;D&&await(null==r.isElement?void 0:r.isElement(C))||(D=a.floating[T]||l.floating[x]);const k=S/2-H/2,O=D/2-L[x]/2-1,F=o(y[E],O),M=o(y[A],O),P=F,$=D-L[x]-M,K=D/2-L[x]/2+k,B=c(P,K,$),q=!f.arrow&&null!=h(s)&&K!=B&&l.reference[x]/2-(K<P?F:M)-L[x]/2<0,U=q?K<P?K-P:K-$:0;return{[b]:w[b]+U,data:{[b]:B,centerOffset:K-B-U,...q&&{alignmentOffset:U}},reset:q}}}))({element:this.tooltipArrow,padding:10})),this.tooltip.cleanUpFloatingUi=it(this.tooltipRef,this.tooltip,(()=>{nt(this.tooltipRef,this.tooltip,t).then((({x:t,y:e,middlewareData:o,placement:i})=>{if(this.tooltip.setAttribute("data-tooltip-placement",i),Object.assign(this.tooltip.style,{left:`${t}px`,top:`${e}px`}),this.tooltipArrow&&o.arrow){const t=this.tooltipArrow.offsetWidth,e={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]],{x:n,y:s}=o.arrow;Object.assign(this.tooltipArrow.style,{left:null!=n?`${n}px`:"",top:null!=s?`${s}px`:"",right:"",bottom:"",[e]:-t/2+"px"})}}))}))}}hide(t,e=!1){this.tooltip&&document.querySelector(`#${this.tooltipRef.getAttribute("data-tooltip-target")}`)&&(this.tooltipRef.dispatchEvent(new CustomEvent("beforeHide")),this.tooltip.dispatchEvent(new CustomEvent("beforeHide")),"function"==typeof this.options.beforeHide&&this.options.beforeHide(),clearTimeout(this.tooltip.tooltipShowTimeout),this.tooltip.classList.remove("webcimes-tooltip--show"),"button"==this.options.type&&(this.tooltipRef.setAttribute("aria-expended","false"),e||this.tooltipRef.focus(),this.tooltip.removeEventListener("keydown",this.eventListeners.tooltipKeydown)),this.tooltip.removeEventListener("transitionend",this.eventListeners.tooltipTransitionEnd),this.tooltip.tooltipHideTimeout=setTimeout((()=>{void 0!==this.tooltip?.cleanUpFloatingUi&&(this.tooltip.cleanUpFloatingUi(),delete this.tooltip.cleanUpFloatingUi),delete this.tooltip?.tooltipPlacement,delete this.tooltip?.tooltipDelay,delete this.tooltip?.tooltipDuration,delete this.tooltip?.tooltipArrow,delete this.tooltip?.tooltipHideOnHover,delete this.tooltip?.tooltipAlreadyShow,delete this.tooltip?.tooltipShowTimeout,delete this.tooltip?.tooltipHideTimeout,this.tooltipRef.dispatchEvent(new CustomEvent("afterHide")),this.tooltip.dispatchEvent(new CustomEvent("afterHide")),"function"==typeof this.options.afterHide&&this.options.afterHide(),"function"==typeof t&&t()}),this.tooltip.tooltipDuration))}destroy(){this.tooltipRef?.dispatchEvent(new CustomEvent("beforeDestroy")),this.tooltip?.dispatchEvent(new CustomEvent("beforeDestroy")),"function"==typeof this.options.beforeDestroy&&this.options.beforeDestroy(),this.hide((()=>{this.tooltip?.remove()})),this.detachEvents(),this.tooltipRef&&(this.tooltipRef.classList.remove("webcimes-tooltip-ref"),this.tooltipRef.removeAttribute("data-tooltip-target"),this.tooltipRef.removeAttribute("role"),this.tooltipRef.removeAttribute("aria-expended"),this.tooltipRef.removeAttribute("aria-haspopup"),this.tooltipRef.removeAttribute("tabindex")),this.tooltipRef=null,this.tooltip=null,this.tooltipArrow=null,"function"==typeof this.options.afterDestroy&&this.options.afterDestroy()}detachEvents(){this.tooltipRef&&(this.eventListeners.tooltipRefClick&&this.tooltipRef.removeEventListener("click",this.eventListeners.tooltipRefClick),this.eventListeners.tooltipRefKeydown&&this.tooltipRef.removeEventListener("keydown",this.eventListeners.tooltipRefKeydown),this.eventListeners.tooltipRefFocus&&this.tooltipRef.removeEventListener("focus",this.eventListeners.tooltipRefFocus),this.eventListeners.tooltipRefFocusout&&this.tooltipRef.removeEventListener("focusout",this.eventListeners.tooltipRefFocusout)),this.eventListeners.documentClick&&document.removeEventListener("click",this.eventListeners.documentClick),this.eventListeners.documentKeydown&&document.removeEventListener("keydown",this.eventListeners.documentKeydown),this.eventListeners.documentMouseenter&&document.removeEventListener("mouseenter",this.eventListeners.documentMouseenter,!0),this.eventListeners.documentMouseleave&&document.removeEventListener("mouseleave",this.eventListeners.documentMouseleave,!0),this.tooltip&&(this.eventListeners.tooltipKeydown&&this.tooltip.removeEventListener("keydown",this.eventListeners.tooltipKeydown),this.eventListeners.tooltipTransitionEnd&&this.tooltip.removeEventListener("transitionend",this.eventListeners.tooltipTransitionEnd)),this.eventListeners={}}reattachEvents(){this.tooltipRef&&("button"===this.options.type?this.attachButtonEvents():"title"===this.options.type&&this.attachTitleEvents())}attachButtonEvents(){this.tooltipRef&&(this.eventListeners.tooltipRefClick=()=>{this.show()},this.tooltipRef.addEventListener("click",this.eventListeners.tooltipRefClick),this.eventListeners.tooltipRefKeydown=t=>{"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),this.show())},this.tooltipRef.addEventListener("keydown",this.eventListeners.tooltipRefKeydown),this.eventListeners.documentClick=t=>{t.target.closest(".webcimes-tooltip-ref")!=this.tooltipRef&&t.target.closest(".webcimes-tooltip")!=this.tooltip&&this.hide((()=>{this.tooltip?.remove()}),!0)},this.eventListeners.documentKeydown=t=>{t.target.closest(".webcimes-tooltip-ref")!=this.tooltipRef&&t.target.closest(".webcimes-tooltip")!=this.tooltip&&this.hide((()=>{this.tooltip?.remove()}),!0)},document.addEventListener("click",this.eventListeners.documentClick),document.addEventListener("keydown",this.eventListeners.documentKeydown))}attachTitleEvents(){if(!this.tooltipRef)return;let t=!1;this.eventListeners.documentMouseenter=e=>{(e.target==this.tooltipRef||!this.tooltip.tooltipHideOnHover&&e.target==this.tooltip)&&(t=!0,this.show())},document.addEventListener("mouseenter",this.eventListeners.documentMouseenter,!0),this.eventListeners.documentMouseleave=e=>{(e.target==this.tooltipRef||!this.tooltip.tooltipHideOnHover&&e.target==this.tooltip)&&(t=!1,this.hide((()=>{this.tooltip?.remove()})))},document.addEventListener("mouseleave",this.eventListeners.documentMouseleave,!0),this.eventListeners.tooltipRefFocus=()=>{this.show()},this.tooltipRef.addEventListener("focus",this.eventListeners.tooltipRefFocus),this.eventListeners.tooltipRefFocusout=e=>{t||this.hide((()=>{this.tooltip?.remove()}))},this.tooltipRef.addEventListener("focusout",this.eventListeners.tooltipRefFocusout),this.eventListeners.tooltipRefKeydown=t=>{"Escape"==t.key&&(t.preventDefault(),this.hide((()=>{this.tooltip?.remove()})))},this.tooltipRef.addEventListener("keydown",this.eventListeners.tooltipRefKeydown)}tooltipForButton(){if(this.tooltipRef){const t=this.options.setId?this.options.setId:this.getUniqueID("#","tooltip-");this.tooltipRef.setAttribute("data-tooltip-target",t),this.tooltipRef.setAttribute("role","button"),this.tooltipRef.setAttribute("aria-expended","false"),this.tooltipRef.setAttribute("aria-haspopup","dialog"),this.tooltipRef.setAttribute("tabindex","0");const e=this.getHtmlElement(this.options.contentElement)??this.tooltipRef.nextElementSibling;e?.style.removeProperty("display");let o=document.createElement("template");o.innerHTML=`<div class="webcimes-tooltip webcimes-tooltip--button ${this.options.setClass?this.options.setClass:""}" id="${t}" ${this.options.style?`style="${this.options.style}"`:""} role="dialog" ${this.options.ariaLabel?`aria-label="${this.options.ariaLabel}"`:""} tabindex="0"></div>`,this.tooltip=o.content.firstChild,e&&this.tooltip.appendChild(e),this.attachButtonEvents()}}tooltipForTitle(){if(this.tooltipRef){const t=this.options.setId?this.options.setId:this.getUniqueID("#","tooltip-");let e=null;if(this.options.contentElement)e=this.getHtmlElement(this.options.contentElement),e?.style.removeProperty("display");else{const t=this.tooltipRef.getAttribute("title");if(t){const o=document.createElement("div");o.innerHTML=t,e=o}this.tooltipRef.removeAttribute("title")}this.tooltipRef.setAttribute("aria-describedby",t),this.tooltipRef.setAttribute("data-tooltip-target",t);let o=document.createElement("template");o.innerHTML=`<div class="webcimes-tooltip webcimes-tooltip--title ${this.options.setClass?this.options.setClass:""}" id="${t}" ${this.options.style?`style="${this.options.style}"`:""} role="tooltip" ${this.options.ariaLabel?`aria-label="${this.options.ariaLabel}"`:""}></div>`,this.tooltip=o.content.firstChild,e&&this.tooltip.appendChild(e),this.attachTitleEvents()}}}return e})()));
//# sourceMappingURL=webcimes-tooltip.udm.js.map