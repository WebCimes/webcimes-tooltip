var t={d:(e,o)=>{for(var i in o)t.o(o,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{Q:()=>lt});const o=Math.min,i=Math.max,n=Math.round,l=Math.floor,s=t=>({x:t,y:t}),r={left:"right",right:"left",bottom:"top",top:"bottom"},a={start:"end",end:"start"};function c(t,e,n){return i(t,o(e,n))}function f(t,e){return"function"==typeof t?t(e):t}function p(t){return t.split("-")[0]}function h(t){return t.split("-")[1]}function u(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function m(t){return["top","bottom"].includes(p(t))?"y":"x"}function y(t){return u(m(t))}function g(t){return t.replace(/start|end/g,(t=>a[t]))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>r[t]))}function v(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function b(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function x(t,e,o){let{reference:i,floating:n}=t;const l=m(e),s=y(e),r=d(s),a=p(e),c="y"===l,f=i.x+i.width/2-n.width/2,u=i.y+i.height/2-n.height/2,g=i[r]/2-n[r]/2;let w;switch(a){case"top":w={x:f,y:i.y-n.height};break;case"bottom":w={x:f,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:u};break;case"left":w={x:i.x-n.width,y:u};break;default:w={x:i.x,y:i.y}}switch(h(e)){case"start":w[s]-=g*(o&&c?-1:1);break;case"end":w[s]+=g*(o&&c?-1:1)}return w}async function R(t,e){var o;void 0===e&&(e={});const{x:i,y:n,platform:l,rects:s,elements:r,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:u=!1,padding:d=0}=f(e,t),m=v(d),y=r[u?"floating"===h?"reference":"floating":h],g=b(await l.getClippingRect({element:null==(o=await(null==l.isElement?void 0:l.isElement(y)))||o?y:y.contextElement||await(null==l.getDocumentElement?void 0:l.getDocumentElement(r.floating)),boundary:c,rootBoundary:p,strategy:a})),w="floating"===h?{...s.floating,x:i,y:n}:s.reference,x=await(null==l.getOffsetParent?void 0:l.getOffsetParent(r.floating)),R=await(null==l.isElement?void 0:l.isElement(x))&&await(null==l.getScale?void 0:l.getScale(x))||{x:1,y:1},E=b(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:x,strategy:a}):w);return{top:(g.top-E.top+m.top)/R.y,bottom:(E.bottom-g.bottom+m.bottom)/R.y,left:(g.left-E.left+m.left)/R.x,right:(E.right-g.right+m.right)/R.x}}const E=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o,i;const{placement:n,middlewareData:l,rects:s,initialPlacement:r,platform:a,elements:c}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:E=!0,...A}=f(t,e);if(null!=(o=l.arrow)&&o.alignmentOffset)return{};const T=p(n),L=p(r)===r,S=await(null==a.isRTL?void 0:a.isRTL(c.floating)),H=v||(L||!E?[w(r)]:function(t){const e=w(t);return[g(t),e,g(e)]}(r));v||"none"===x||H.push(...function(t,e,o,i){const n=h(t);let l=function(t,e,o){const i=["left","right"],n=["right","left"],l=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return o?e?n:i:e?i:n;case"left":case"right":return e?l:s;default:return[]}}(p(t),"start"===o,i);return n&&(l=l.map((t=>t+"-"+n)),e&&(l=l.concat(l.map(g)))),l}(r,E,x,S));const D=[r,...H],O=await R(e,A),C=[];let k=(null==(i=l.flip)?void 0:i.overflows)||[];if(u&&C.push(O[T]),m){const t=function(t,e,o){void 0===o&&(o=!1);const i=h(t),n=y(t),l=d(n);let s="x"===n?i===(o?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[l]>e.floating[l]&&(s=w(s)),[s,w(s)]}(n,s,S);C.push(O[t[0]],O[t[1]])}if(k=[...k,{placement:n,overflows:C}],!C.every((t=>t<=0))){var F,P;const t=((null==(F=l.flip)?void 0:F.index)||0)+1,e=D[t];if(e)return{data:{index:t,overflows:k},reset:{placement:e}};let o=null==(P=k.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:P.placement;if(!o)switch(b){case"bestFit":{var M;const t=null==(M=k.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:M[0];t&&(o=t);break}case"initialPlacement":o=r}if(n!==o)return{reset:{placement:o}}}return{}}}};const A=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var o,i;const{x:n,y:l,placement:s,middlewareData:r}=e,a=await async function(t,e){const{placement:o,platform:i,elements:n}=t,l=await(null==i.isRTL?void 0:i.isRTL(n.floating)),s=p(o),r=h(o),a="y"===m(o),c=["left","top"].includes(s)?-1:1,u=l&&a?-1:1,d=f(e,t);let{mainAxis:y,crossAxis:g,alignmentAxis:w}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return r&&"number"==typeof w&&(g="end"===r?-1*w:w),a?{x:g*u,y:y*c}:{x:y*c,y:g*u}}(e,t);return s===(null==(o=r.offset)?void 0:o.placement)&&null!=(i=r.arrow)&&i.alignmentOffset?{}:{x:n+a.x,y:l+a.y,data:{...a,placement:s}}}}},T=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:i,placement:n}=e,{mainAxis:l=!0,crossAxis:s=!1,limiter:r={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}},...a}=f(t,e),h={x:o,y:i},d=await R(e,a),y=m(p(n)),g=u(y);let w=h[g],v=h[y];if(l){const t="y"===g?"bottom":"right";w=c(w+d["y"===g?"top":"left"],w,w-d[t])}if(s){const t="y"===y?"bottom":"right";v=c(v+d["y"===y?"top":"left"],v,v-d[t])}const b=r.fn({...e,[g]:w,[y]:v});return{...b,data:{x:b.x-o,y:b.y-i}}}}},L=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:o,y:i,placement:n,rects:l,middlewareData:s}=e,{offset:r=0,mainAxis:a=!0,crossAxis:c=!0}=f(t,e),h={x:o,y:i},d=m(n),y=u(d);let g=h[y],w=h[d];const v=f(r,e),b="number"==typeof v?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(a){const t="y"===y?"height":"width",e=l.reference[y]-l.floating[t]+b.mainAxis,o=l.reference[y]+l.reference[t]-b.mainAxis;g<e?g=e:g>o&&(g=o)}if(c){var x,R;const t="y"===y?"width":"height",e=["top","left"].includes(p(n)),o=l.reference[d]-l.floating[t]+(e&&(null==(x=s.offset)?void 0:x[d])||0)+(e?0:b.crossAxis),i=l.reference[d]+l.reference[t]+(e?0:(null==(R=s.offset)?void 0:R[d])||0)-(e?b.crossAxis:0);w<o?w=o:w>i&&(w=i)}return{[y]:g,[d]:w}}}};function S(t){return O(t)?(t.nodeName||"").toLowerCase():"#document"}function H(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function D(t){var e;return null==(e=(O(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function O(t){return t instanceof Node||t instanceof H(t).Node}function C(t){return t instanceof Element||t instanceof H(t).Element}function k(t){return t instanceof HTMLElement||t instanceof H(t).HTMLElement}function F(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof H(t).ShadowRoot)}function P(t){const{overflow:e,overflowX:o,overflowY:i,display:n}=q(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+o)&&!["inline","contents"].includes(n)}function M(t){return["table","td","th"].includes(S(t))}function $(t){const e=U(),o=q(t);return"none"!==o.transform||"none"!==o.perspective||!!o.containerType&&"normal"!==o.containerType||!e&&!!o.backdropFilter&&"none"!==o.backdropFilter||!e&&!!o.filter&&"none"!==o.filter||["transform","perspective","filter"].some((t=>(o.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(o.contain||"").includes(t)))}function U(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function W(t){return["html","body","#document"].includes(S(t))}function q(t){return H(t).getComputedStyle(t)}function B(t){return C(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function I(t){if("html"===S(t))return t;const e=t.assignedSlot||t.parentNode||F(t)&&t.host||D(t);return F(e)?e.host:e}function N(t){const e=I(t);return W(e)?t.ownerDocument?t.ownerDocument.body:t.body:k(e)&&P(e)?e:N(e)}function V(t,e,o){var i;void 0===e&&(e=[]),void 0===o&&(o=!0);const n=N(t),l=n===(null==(i=t.ownerDocument)?void 0:i.body),s=H(n);return l?e.concat(s,s.visualViewport||[],P(n)?n:[],s.frameElement&&o?V(s.frameElement):[]):e.concat(n,V(n,[],o))}function _(t){const e=q(t);let o=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const l=k(t),s=l?t.offsetWidth:o,r=l?t.offsetHeight:i,a=n(o)!==s||n(i)!==r;return a&&(o=s,i=r),{width:o,height:i,$:a}}function j(t){return C(t)?t:t.contextElement}function z(t){const e=j(t);if(!k(e))return s(1);const o=e.getBoundingClientRect(),{width:i,height:l,$:r}=_(e);let a=(r?n(o.width):o.width)/i,c=(r?n(o.height):o.height)/l;return a&&Number.isFinite(a)||(a=1),c&&Number.isFinite(c)||(c=1),{x:a,y:c}}const K=s(0);function J(t){const e=H(t);return U()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:K}function Q(t,e,o,i){void 0===e&&(e=!1),void 0===o&&(o=!1);const n=t.getBoundingClientRect(),l=j(t);let r=s(1);e&&(i?C(i)&&(r=z(i)):r=z(t));const a=function(t,e,o){return void 0===e&&(e=!1),!(!o||e&&o!==H(t))&&e}(l,o,i)?J(l):s(0);let c=(n.left+a.x)/r.x,f=(n.top+a.y)/r.y,p=n.width/r.x,h=n.height/r.y;if(l){const t=H(l),e=i&&C(i)?H(i):i;let o=t.frameElement;for(;o&&i&&e!==t;){const t=z(o),e=o.getBoundingClientRect(),i=q(o),n=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,l=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;c*=t.x,f*=t.y,p*=t.x,h*=t.y,c+=n,f+=l,o=H(o).frameElement}}return b({width:p,height:h,x:c,y:f})}function X(t){return Q(D(t)).left+B(t).scrollLeft}function Y(t,e,o){let n;if("viewport"===e)n=function(t,e){const o=H(t),i=D(t),n=o.visualViewport;let l=i.clientWidth,s=i.clientHeight,r=0,a=0;if(n){l=n.width,s=n.height;const t=U();(!t||t&&"fixed"===e)&&(r=n.offsetLeft,a=n.offsetTop)}return{width:l,height:s,x:r,y:a}}(t,o);else if("document"===e)n=function(t){const e=D(t),o=B(t),n=t.ownerDocument.body,l=i(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=i(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+X(t);const a=-o.scrollTop;return"rtl"===q(n).direction&&(r+=i(e.clientWidth,n.clientWidth)-l),{width:l,height:s,x:r,y:a}}(D(t));else if(C(e))n=function(t,e){const o=Q(t,!0,"fixed"===e),i=o.top+t.clientTop,n=o.left+t.clientLeft,l=k(t)?z(t):s(1);return{width:t.clientWidth*l.x,height:t.clientHeight*l.y,x:n*l.x,y:i*l.y}}(e,o);else{const o=J(t);n={...e,x:e.x-o.x,y:e.y-o.y}}return b(n)}function G(t,e){const o=I(t);return!(o===e||!C(o)||W(o))&&("fixed"===q(o).position||G(o,e))}function Z(t,e,o){const i=k(e),n=D(e),l="fixed"===o,r=Q(t,!0,l,e);let a={scrollLeft:0,scrollTop:0};const c=s(0);if(i||!i&&!l)if(("body"!==S(e)||P(n))&&(a=B(e)),i){const t=Q(e,!0,l,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else n&&(c.x=X(n));return{x:r.left+a.scrollLeft-c.x,y:r.top+a.scrollTop-c.y,width:r.width,height:r.height}}function tt(t,e){return k(t)&&"fixed"!==q(t).position?e?e(t):t.offsetParent:null}function et(t,e){const o=H(t);if(!k(t))return o;let i=tt(t,e);for(;i&&M(i)&&"static"===q(i).position;)i=tt(i,e);return i&&("html"===S(i)||"body"===S(i)&&"static"===q(i).position&&!$(i))?o:i||function(t){let e=I(t);for(;k(e)&&!W(e);){if($(e))return e;e=I(e)}return null}(t)||o}const ot={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:i}=t;const n=k(o),l=D(o);if(o===l)return e;let r={scrollLeft:0,scrollTop:0},a=s(1);const c=s(0);if((n||!n&&"fixed"!==i)&&(("body"!==S(o)||P(l))&&(r=B(o)),k(o))){const t=Q(o);a=z(o),c.x=t.x+o.clientLeft,c.y=t.y+o.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-r.scrollLeft*a.x+c.x,y:e.y*a.y-r.scrollTop*a.y+c.y}},getDocumentElement:D,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:l,strategy:s}=t;const r=[..."clippingAncestors"===n?function(t,e){const o=e.get(t);if(o)return o;let i=V(t,[],!1).filter((t=>C(t)&&"body"!==S(t))),n=null;const l="fixed"===q(t).position;let s=l?I(t):t;for(;C(s)&&!W(s);){const e=q(s),o=$(s);o||"fixed"!==e.position||(n=null),(l?!o&&!n:!o&&"static"===e.position&&n&&["absolute","fixed"].includes(n.position)||P(s)&&!o&&G(t,s))?i=i.filter((t=>t!==s)):n=e,s=I(s)}return e.set(t,i),i}(e,this._c):[].concat(n),l],a=r[0],c=r.reduce(((t,n)=>{const l=Y(e,n,s);return t.top=i(l.top,t.top),t.right=o(l.right,t.right),t.bottom=o(l.bottom,t.bottom),t.left=i(l.left,t.left),t}),Y(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:et,getElementRects:async function(t){let{reference:e,floating:o,strategy:i}=t;const n=this.getOffsetParent||et,l=this.getDimensions;return{reference:Z(e,await n(o),i),floating:{x:0,y:0,...await l(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return _(t)},getScale:z,isElement:C,isRTL:function(t){return"rtl"===q(t).direction}};function it(t,e,n,s){void 0===s&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:c="function"==typeof ResizeObserver,layoutShift:f="function"==typeof IntersectionObserver,animationFrame:p=!1}=s,h=j(t),u=r||a?[...h?V(h):[],...V(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),a&&t.addEventListener("resize",n)}));const d=h&&f?function(t,e){let n,s=null;const r=D(t);function a(){clearTimeout(n),s&&s.disconnect(),s=null}return function c(f,p){void 0===f&&(f=!1),void 0===p&&(p=1),a();const{left:h,top:u,width:d,height:m}=t.getBoundingClientRect();if(f||e(),!d||!m)return;const y={rootMargin:-l(u)+"px "+-l(r.clientWidth-(h+d))+"px "+-l(r.clientHeight-(u+m))+"px "+-l(h)+"px",threshold:i(0,o(1,p))||1};let g=!0;function w(t){const e=t[0].intersectionRatio;if(e!==p){if(!g)return c();e?c(!1,e):n=setTimeout((()=>{c(!1,1e-7)}),100)}g=!1}try{s=new IntersectionObserver(w,{...y,root:r.ownerDocument})}catch(t){s=new IntersectionObserver(w,y)}s.observe(t)}(!0),a}(h,n):null;let m,y=-1,g=null;c&&(g=new ResizeObserver((t=>{let[o]=t;o&&o.target===h&&g&&(g.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{g&&g.observe(e)}))),n()})),h&&!p&&g.observe(h),g.observe(e));let w=p?Q(t):null;return p&&function e(){const o=Q(t);!w||o.x===w.x&&o.y===w.y&&o.width===w.width&&o.height===w.height||n();w=o,m=requestAnimationFrame(e)}(),n(),()=>{u.forEach((t=>{r&&t.removeEventListener("scroll",n),a&&t.removeEventListener("resize",n)})),d&&d(),g&&g.disconnect(),g=null,p&&cancelAnimationFrame(m)}}const nt=(t,e,o)=>{const i=new Map,n={platform:ot,...o},l={...n.platform,_c:i};return(async(t,e,o)=>{const{placement:i="bottom",strategy:n="absolute",middleware:l=[],platform:s}=o,r=l.filter(Boolean),a=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:n}),{x:f,y:p}=x(c,i,a),h=i,u={},d=0;for(let o=0;o<r.length;o++){const{name:l,fn:m}=r[o],{x:y,y:g,data:w,reset:v}=await m({x:f,y:p,initialPlacement:i,placement:h,strategy:n,middlewareData:u,rects:c,platform:s,elements:{reference:t,floating:e}});f=null!=y?y:f,p=null!=g?g:p,u={...u,[l]:{...u[l],...w}},v&&d<=50&&(d++,"object"==typeof v&&(v.placement&&(h=v.placement),v.rects&&(c=!0===v.rects?await s.getElementRects({reference:t,floating:e,strategy:n}):v.rects),({x:f,y:p}=x(c,h,a))),o=-1)}return{x:f,y:p,placement:h,strategy:n,middlewareData:u}})(t,e,{...n,platform:l})};class lt{tooltipRef;tooltip;tooltipArrow;options;constructor(t){const e={type:"button",element:null,setId:null,setClass:null,placement:t.type&&"title"==t.type?"top":"bottom",delay:t.type&&"title"==t.type?400:0,duration:600,arrow:!0,style:null,hideOnHover:!0,beforeShow:()=>{},afterShow:()=>{},beforeHide:()=>{},afterHide:()=>{}};this.options={...e,...t},this.onKeyDown=this.onKeyDown.bind(this),this.onTransitionEndOnShow=this.onTransitionEndOnShow.bind(this),this.init()}getHtmlElements(t){let e=[];return t instanceof NodeList&&(e=[...Array.from(t)]),t instanceof HTMLElement&&(e=[t]),"string"==typeof t&&(e=[...Array.from(document.querySelectorAll(t))]),e}getHtmlElement(t){let e=null;return t instanceof HTMLElement&&(e=t),"string"==typeof t&&(e=document.querySelector(t)),e}getUniqueID(t,e,o="",i=null){i=i??document;do{e+=Math.floor(1e4*Math.random())}while(i.querySelector(t+e+o));return e}init(){this.tooltipRef=this.getHtmlElement(this.options.element),this.tooltipRef?.classList.add("webcimes-tooltip-ref"),"button"==this.options.type?this.tooltipForButton():"title"==this.options.type&&this.tooltipForTitle()}show(){if(this.tooltipRef&&this.tooltip&&(document.querySelector(`#${this.tooltipRef.getAttribute("data-tooltip-target")}`)||(document.body.insertAdjacentHTML("beforeend",this.tooltip.outerHTML),this.tooltip=document.body.lastElementChild),this.tooltip.tooltipPlacement=this.tooltipRef.getAttribute("data-tooltip-placement")||this.options.placement,this.tooltip.tooltipDelay=this.tooltipRef.getAttribute("data-tooltip-delay")||this.options.delay,this.tooltip.tooltipDuration=this.tooltipRef.getAttribute("data-tooltip-duration")||this.options.duration,this.tooltip.tooltipArrow=JSON.parse(this.tooltipRef.getAttribute("data-tooltip-arrow")||this.options.arrow),this.tooltip.tooltipHideOnHover=JSON.parse(this.tooltipRef.getAttribute("data-tooltip-hide-on-hover")||this.options.hideOnHover),this.tooltip.style.setProperty("--tooltip-duration",this.tooltip.tooltipDuration+"ms"),this.tooltip.tooltipArrow&&(this.tooltip.querySelector(".webcimes-tooltip__arrow")||this.tooltip.insertAdjacentHTML("beforeend",'<div class="webcimes-tooltip__arrow"></div>'),this.tooltipArrow=this.tooltip.querySelector(".webcimes-tooltip__arrow")),clearTimeout(this.tooltip.tooltipHideTimeout),this.tooltip.tooltipShowTimeout=setTimeout((()=>{this.tooltip.tooltipAlreadyShow||setTimeout((()=>{this.tooltipRef.dispatchEvent(new CustomEvent("beforeShow")),this.tooltip.dispatchEvent(new CustomEvent("beforeShow")),"function"==typeof this.options.beforeShow&&this.options.beforeShow()}),0),this.tooltip.classList.add("webcimes-tooltip--show"),"button"==this.options.type?(this.tooltipRef.setAttribute("aria-expended","true"),this.tooltip.focus(),this.tooltip.addEventListener("keydown",this.onKeyDown)):this.options.type,this.tooltip.tooltipAlreadyShow=!0}),this.tooltip.tooltipAlreadyShow?0:this.tooltip.tooltipDelay),this.tooltip.addEventListener("transitionend",this.onTransitionEndOnShow),void 0===this.tooltip.cleanUpFloatingUi)){let t={placement:this.tooltip.tooltipPlacement,middleware:[A(10),T({padding:10,limiter:L({offset:30})}),E({fallbackPlacements:["top","bottom","left","right"],padding:10})]};this.tooltipArrow&&t.middleware.push((t=>({name:"arrow",options:t,async fn(e){const{x:i,y:n,placement:l,rects:s,platform:r,elements:a,middlewareData:p}=e,{element:u,padding:m=0}=f(t,e)||{};if(null==u)return{};const g=v(m),w={x:i,y:n},b=y(l),x=d(b),R=await r.getDimensions(u),E="y"===b,A=E?"top":"left",T=E?"bottom":"right",L=E?"clientHeight":"clientWidth",S=s.reference[x]+s.reference[b]-w[b]-s.floating[x],H=w[b]-s.reference[b],D=await(null==r.getOffsetParent?void 0:r.getOffsetParent(u));let O=D?D[L]:0;O&&await(null==r.isElement?void 0:r.isElement(D))||(O=a.floating[L]||s.floating[x]);const C=S/2-H/2,k=O/2-R[x]/2-1,F=o(g[A],k),P=o(g[T],k),M=F,$=O-R[x]-P,U=O/2-R[x]/2+C,W=c(M,U,$),q=!p.arrow&&null!=h(l)&&U!=W&&s.reference[x]/2-(U<M?F:P)-R[x]/2<0,B=q?U<M?U-M:U-$:0;return{[b]:w[b]+B,data:{[b]:W,centerOffset:U-W-B,...q&&{alignmentOffset:B}},reset:q}}}))({element:this.tooltipArrow,padding:10})),this.tooltip.cleanUpFloatingUi=it(this.tooltipRef,this.tooltip,(()=>{nt(this.tooltipRef,this.tooltip,t).then((({x:t,y:e,middlewareData:o,placement:i})=>{if(this.tooltip.setAttribute("data-tooltip-placement",i),Object.assign(this.tooltip.style,{left:`${t}px`,top:`${e}px`}),this.tooltipArrow&&o.arrow){const t=this.tooltipArrow.offsetWidth,e={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]],{x:n,y:l}=o.arrow;Object.assign(this.tooltipArrow.style,{left:null!=n?`${n}px`:"",top:null!=l?`${l}px`:"",right:"",bottom:"",[e]:-t/2+"px"})}}))}))}}hide(t){this.tooltip&&document.querySelector(`#${this.tooltipRef.getAttribute("data-tooltip-target")}`)&&(this.tooltipRef.dispatchEvent(new CustomEvent("beforeHide")),this.tooltip.dispatchEvent(new CustomEvent("beforeHide")),"function"==typeof this.options.beforeHide&&this.options.beforeHide(),clearTimeout(this.tooltip.tooltipShowTimeout),this.tooltip.classList.remove("webcimes-tooltip--show"),"button"==this.options.type&&(this.tooltipRef.setAttribute("aria-expended","false"),this.tooltipRef.focus(),this.tooltip.removeEventListener("keydown",this.onKeyDown)),this.tooltip.removeEventListener("transitionend",this.onTransitionEndOnShow),this.tooltip.tooltipHideTimeout=setTimeout((()=>{void 0!==this.tooltip?.cleanUpFloatingUi&&(this.tooltip.cleanUpFloatingUi(),delete this.tooltip.cleanUpFloatingUi),delete this.tooltip?.tooltipPlacement,delete this.tooltip?.tooltipDelay,delete this.tooltip?.tooltipDuration,delete this.tooltip?.tooltipArrow,delete this.tooltip?.tooltipHideOnHover,delete this.tooltip?.tooltipAlreadyShow,delete this.tooltip?.tooltipShowTimeout,delete this.tooltip?.tooltipHideTimeout,this.tooltipRef.dispatchEvent(new CustomEvent("afterHide")),this.tooltip.dispatchEvent(new CustomEvent("afterHide")),"function"==typeof this.options.afterHide&&this.options.afterHide(),"function"==typeof t&&t()}),this.tooltip.tooltipDuration))}tooltipForButton(){if(this.tooltipRef){const t=this.options.setId?this.options.setId:this.getUniqueID("#","tooltip-");this.tooltipRef.setAttribute("data-tooltip-target",t),this.tooltipRef.setAttribute("role","button"),this.tooltipRef.setAttribute("aria-expended","false"),this.tooltipRef.setAttribute("aria-haspopup","dialog"),this.tooltipRef.setAttribute("tabindex","0");let e=document.createElement("template");e.innerHTML=`<div class="webcimes-tooltip webcimes-tooltip--button ${this.options.setClass?this.options.setClass:""}" id="${t}" ${this.options.style?`style="${this.options.style}"`:""} role="dialog" tabindex="0">\n\t\t\t\t${this.tooltipRef.nextElementSibling?.outerHTML}\n\t\t\t</div>`,this.tooltip=e.content.firstChild,this.tooltipRef.nextElementSibling?.remove(),this.tooltipRef.addEventListener("click",(()=>{this.show()})),this.tooltipRef.addEventListener("keydown",(t=>{"Enter"!=t.key&&" "!=t.key||(t.preventDefault(),this.show())})),["click","keydown"].forEach((t=>{document.addEventListener(t,(t=>{t.target.closest(".webcimes-tooltip-ref")!=this.tooltipRef&&t.target.closest(".webcimes-tooltip")!=this.tooltip&&this.hide((()=>{this.tooltip?.remove()}))}))}))}}tooltipForTitle(){if(this.tooltipRef){const t=this.options.setId?this.options.setId:this.getUniqueID("#","tooltip-");this.tooltipRef.setAttribute("data-tooltip-title",this.tooltipRef.getAttribute("title")),this.tooltipRef.removeAttribute("title"),this.tooltipRef.setAttribute("aria-describedby",t),this.tooltipRef.setAttribute("data-tooltip-target",t);let e=document.createElement("template");e.innerHTML=`<div class="webcimes-tooltip webcimes-tooltip--title ${this.options.setClass?this.options.setClass:""}" id="${t}" ${this.options.style?`style="${this.options.style}"`:""} role="tooltip">\n\t\t\t\t${this.tooltipRef.getAttribute("data-tooltip-title")}\n\t\t\t</div>`,this.tooltip=e.content.firstChild;let o=!1;document.addEventListener("mouseenter",(t=>{(t.target==this.tooltipRef||!this.tooltip.tooltipHideOnHover&&t.target==this.tooltip)&&(o=!0,this.show())}),!0),document.addEventListener("mouseleave",(t=>{(t.target==this.tooltipRef||!this.tooltip.tooltipHideOnHover&&t.target==this.tooltip)&&(o=!1,this.hide((()=>{this.tooltip?.remove()})))}),!0),this.tooltipRef.addEventListener("focus",(()=>{this.show()})),this.tooltipRef.addEventListener("focusout",(t=>{o||this.hide((()=>{this.tooltip?.remove()}))})),this.tooltipRef.addEventListener("keydown",(t=>{"Escape"==t.key&&(t.preventDefault(),this.hide((()=>{this.tooltip?.remove()})))}))}}onKeyDown(t){"Escape"!=t.key&&"Tab"!=t.key||(t.preventDefault(),this.hide((()=>{this.tooltip?.remove()})))}onTransitionEndOnShow(t){this.tooltip.classList.contains("webcimes-tooltip--show")&&"opacity"==t.propertyName&&(this.tooltipRef.dispatchEvent(new CustomEvent("afterShow")),this.tooltip.dispatchEvent(new CustomEvent("afterShow")),"function"==typeof this.options.afterShow&&this.options.afterShow())}}var st=e.Q;export{st as WebcimesTooltip};
//# sourceMappingURL=webcimes-tooltip.esm.js.map